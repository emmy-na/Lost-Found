{"ast":null,"code":"import api from './api';\nexport const authService = {\n  async login(credentials) {\n    const response = await api.post('/auth/login', credentials);\n    const {\n      success,\n      user\n    } = response.data;\n    if (success) {\n      // Store token if provided by the backend\n      const token = response.data.token || response.data.access_token;\n      if (token) {\n        localStorage.setItem('authToken', token);\n      }\n    }\n    return response.data;\n  },\n  async register(data) {\n    const response = await api.post('/auth/register', data);\n    const {\n      success,\n      user\n    } = response.data;\n    if (success) {\n      // Store token if provided by the backend\n      const token = response.data.token || response.data.access_token;\n      if (token) {\n        localStorage.setItem('authToken', token);\n      }\n    }\n    return response.data;\n  },\n  async getCurrentUser() {\n    const response = await api.get('/auth/me');\n    return response.data;\n  },\n  async logout() {\n    try {\n      await api.post('/auth/logout');\n    } catch (error) {\n      // Even if logout fails on the server, we should clear the local token\n      console.error('Logout error:', error);\n    } finally {\n      localStorage.removeItem('authToken');\n    }\n  }\n};","map":{"version":3,"names":["api","authService","login","credentials","response","post","success","user","data","token","access_token","localStorage","setItem","register","getCurrentUser","get","logout","error","console","removeItem"],"sources":["C:/Users/HP/Documents/laravel/lost-found-app/frontend/src/services/authService.ts"],"sourcesContent":["import api from './api';\r\n\r\ninterface LoginCredentials {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\ninterface RegisterData {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\ninterface ApiResponse<T> {\r\n  success: boolean;\r\n  message?: string;\r\n  data?: T;\r\n  user?: any;\r\n}\r\n\r\nexport const authService = {\r\n  async login(credentials: LoginCredentials): Promise<ApiResponse<any>> {\r\n    const response = await api.post('/auth/login', credentials);\r\n    const { success, user } = response.data;\r\n    \r\n    if (success) {\r\n      // Store token if provided by the backend\r\n      const token = response.data.token || response.data.access_token;\r\n      if (token) {\r\n        localStorage.setItem('authToken', token);\r\n      }\r\n    }\r\n    \r\n    return response.data;\r\n  },\r\n\r\n  async register(data: RegisterData): Promise<ApiResponse<any>> {\r\n    const response = await api.post('/auth/register', data);\r\n    const { success, user } = response.data;\r\n    \r\n    if (success) {\r\n      // Store token if provided by the backend\r\n      const token = response.data.token || response.data.access_token;\r\n      if (token) {\r\n        localStorage.setItem('authToken', token);\r\n      }\r\n    }\r\n    \r\n    return response.data;\r\n  },\r\n\r\n  async getCurrentUser(): Promise<ApiResponse<any>> {\r\n    const response = await api.get('/auth/me');\r\n    return response.data;\r\n  },\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await api.post('/auth/logout');\r\n    } catch (error) {\r\n      // Even if logout fails on the server, we should clear the local token\r\n      console.error('Logout error:', error);\r\n    } finally {\r\n      localStorage.removeItem('authToken');\r\n    }\r\n  }\r\n};"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAoBvB,OAAO,MAAMC,WAAW,GAAG;EACzB,MAAMC,KAAKA,CAACC,WAA6B,EAA6B;IACpE,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,aAAa,EAAEF,WAAW,CAAC;IAC3D,MAAM;MAAEG,OAAO;MAAEC;IAAK,CAAC,GAAGH,QAAQ,CAACI,IAAI;IAEvC,IAAIF,OAAO,EAAE;MACX;MACA,MAAMG,KAAK,GAAGL,QAAQ,CAACI,IAAI,CAACC,KAAK,IAAIL,QAAQ,CAACI,IAAI,CAACE,YAAY;MAC/D,IAAID,KAAK,EAAE;QACTE,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEH,KAAK,CAAC;MAC1C;IACF;IAEA,OAAOL,QAAQ,CAACI,IAAI;EACtB,CAAC;EAED,MAAMK,QAAQA,CAACL,IAAkB,EAA6B;IAC5D,MAAMJ,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,gBAAgB,EAAEG,IAAI,CAAC;IACvD,MAAM;MAAEF,OAAO;MAAEC;IAAK,CAAC,GAAGH,QAAQ,CAACI,IAAI;IAEvC,IAAIF,OAAO,EAAE;MACX;MACA,MAAMG,KAAK,GAAGL,QAAQ,CAACI,IAAI,CAACC,KAAK,IAAIL,QAAQ,CAACI,IAAI,CAACE,YAAY;MAC/D,IAAID,KAAK,EAAE;QACTE,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEH,KAAK,CAAC;MAC1C;IACF;IAEA,OAAOL,QAAQ,CAACI,IAAI;EACtB,CAAC;EAED,MAAMM,cAAcA,CAAA,EAA8B;IAChD,MAAMV,QAAQ,GAAG,MAAMJ,GAAG,CAACe,GAAG,CAAC,UAAU,CAAC;IAC1C,OAAOX,QAAQ,CAACI,IAAI;EACtB,CAAC;EAED,MAAMQ,MAAMA,CAAA,EAAkB;IAC5B,IAAI;MACF,MAAMhB,GAAG,CAACK,IAAI,CAAC,cAAc,CAAC;IAChC,CAAC,CAAC,OAAOY,KAAK,EAAE;MACd;MACAC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACvC,CAAC,SAAS;MACRN,YAAY,CAACQ,UAAU,CAAC,WAAW,CAAC;IACtC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}